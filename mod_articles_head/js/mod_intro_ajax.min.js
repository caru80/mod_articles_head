/**
 * @package        HEAD. Article Module
 * @version        1.7.4
 * 
 * @author         Carsten Ruppert <webmaster@headmarketing.de>
 * @link           https://www.headmarketing.de
 * @copyright      Copyright Â© 2018 HEAD. MARKETING GmbH All Rights Reserved
 * @license        http://www.gnu.org/licenses/gpl-2.0.html GNU/GPL
 */
(function(a){a.ModIntroAJAX=function(c,b){this.module=a(b);this.module.data("modintroajax",this);this._init(c)};a.ModIntroAJAX.Defaults={evNamespace:".modintro.ajax",html:{loading:'<div class="mod-intro-loading"><div class="sk-cube-grid"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class="sk-cube sk-cube9"></div></div></div>'},
request:{option:"com_ajax",module:"articles_head",method:"getList",format:"raw"}};a.ModIntroAJAX.prototype={_init:function(c){this.opt=a.extend(!0,{},a.ModIntroAJAX.Defaults,c);this.setup();this.module.on("afterLoad",function(){this.setup()}.bind(this))},setup:function(){for(var a=this.module.find("[data-modintroajax]"),b=0,d=a.length;b<d;b++)a.one("click"+this.opt.evNamespace,function(a){this.sendRequest(a.currentTarget)}.bind(this))},postEffects:function(c,b){var d=a(c),f=d.find(".item");f.css({visibility:"hidden",
opacity:"0"});a(b.target).append(d);d=function(){var b=this.data("modintroanim");this.one("webkitAnimatioEnd msAnimationEnd animationend",function(){var b=a(this).data("modintroanim");a(this).removeClass(b["class"]+" "+b.name)});this.addClass(b["class"]+" "+b.name).css({visibility:"",opacity:"1"})};for(var g,e=0,h=f.length;e<h;e++)g=f.eq(e),g.data("modintroanim",{"class":b.aniclass,name:b.aniname}),window.setTimeout(d.bind(f.eq(e)),100*e)},sendRequest:function(c){c=a(c);var b=c.parent(),d=c.data("modintroajax");
this.opt.request.modid=d.id;this.opt.request.start=d.s;c.remove();b.html(a(this.opt.html.loading));a.ajax({url:d.url,type:"POST",data:this.opt.request,success:function(c){b.remove();d.animate?this.postEffects(c,d):a(d.target).append(c);this.module.triggerHandler("afterLoad")}.bind(this),error:function(a){console.log(a)}})}};a.fn.modintroajax=function(c){var b=a(this).data("modintroajax");b||(b=new a.ModIntroAJAX(c,this));return b}})(jQuery);